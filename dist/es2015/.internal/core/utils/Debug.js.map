{"version":3,"file":"Debug.js","sourceRoot":"","sources":["../../../../../src/.internal/core/utils/Debug.ts"],"names":[],"mappings":"AAGA;IAGC,oBAAY,CAAM;QACjB,IAAM,QAAQ,GAAS,KAAM,CAAC,eAAe,CAAC;QAExC,KAAM,CAAC,eAAe,GAAG,GAAG,CAAC;QAEnC,IAAU,KAAM,CAAC,iBAAiB,EAAE;YAC7B,KAAM,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;SACxC;QAEK,KAAM,CAAC,eAAe,GAAG,QAAQ,CAAC;IACzC,CAAC;IACF,iBAAC;AAAD,CAAC,AAdD,IAcC;AAGD,IAAI,OAAO,GAAG,IAAI,CAAC;AAEnB,MAAM;IACL,OAAO,GAAG,IAAI,CAAC;AAChB,CAAC;AAED,MAAM;IACL,OAAO,GAAG,KAAK,CAAC;AACjB,CAAC;AAED,MAAM,gBAAgB,KAAgB;IACrC,gEAAgE;IAChE,IAAI,OAAO,IAAU,KAAM,CAAC,SAAS,KAAK,mBAAmB,EAAE;QAC9D,IAAM,GAAC,GAAG,IAAI,UAAU,CAAC,KAAK,CAAC,CAAC;QAEhC,UAAU,CAAC;YACV,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,EAAE;gBACxB,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,GAAC,CAAC,KAAK,CAAC,CAAC;aAC5B;QACF,CAAC,EAAE,KAAK,CAAC,CAAC;KACV;AACF,CAAC","sourcesContent":["import { IDisposer } from \"./Disposer\";\r\n\r\n\r\nclass DebugError {\r\n\tpublic stack!: string;\r\n\r\n\tconstructor(f: any) {\r\n\t\tconst oldValue = (<any>Error).stackTraceLimit;\r\n\r\n\t\t(<any>Error).stackTraceLimit = 100;\r\n\r\n\t\tif ((<any>Error).captureStackTrace) {\r\n\t\t\t(<any>Error).captureStackTrace(this, f);\r\n\t\t}\r\n\r\n\t\t(<any>Error).stackTraceLimit = oldValue;\r\n\t}\r\n}\r\n\r\n\r\nlet enabled = true;\r\n\r\nexport function enable() {\r\n\tenabled = true;\r\n}\r\n\r\nexport function disable() {\r\n\tenabled = false;\r\n}\r\n\r\nexport function debug(value: IDisposer) {\r\n\t// TODO better detection for classes which shouldn't be debugged\r\n\tif (enabled && (<any>value).className !== \"InterfaceColorSet\") {\r\n\t\tconst x = new DebugError(debug);\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tif (!value.isDisposed()) {\r\n\t\t\t\tconsole.log(value, x.stack);\r\n\t\t\t}\r\n\t\t}, 10000);\r\n\t}\r\n}\r\n"]}